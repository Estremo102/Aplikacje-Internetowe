<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM - zdarzenia</title>
    <link rel="stylesheet" href="style.css">
    <script src="zadanie1.js" defer></script>
    <script src="zadanie2.js" defer></script>
    <script src="zadanie3.js" defer></script>
    <script src="zadanie4.js" defer></script>
    <script src="zadanie5.js" defer></script>
    <script src="zadanie6.js" defer></script>
    <script src="script.js" defer></script>
</head>
<body>
    <header>
        <h1>DOM - zdarzenia</h1>
    </header>
    <div class="navbox">
        <nav>
            <ul>
                <li><a href="#zadanie1">Zadanie 1</a></li>
                <li><a href="#zadanie2">Zadanie 2</a></li>
                <li><a href="#zadanie3">Zadanie 3</a></li>
                <li><a href="#zadanie4">Zadanie 4</a></li>
                <li><a href="#zadanie5">Zadanie 5</a></li>
                <li><a href="#zadanie6">Zadanie 6</a></li>
            </ul>
        </nav>
    </div>
    <div class="content">
        <aside>
            <div>
                Postaraj się wykonać zadania samodzielnie bez pomocy AI. Jeśli nad czymś utkniesz śmiało zadawaj pytania, a spróbuję Cię naprowadzić na rozwiązanie. <br><br>
                Rozwiązania zadań umieść w plikach zadanie1.js, zadanie2.js, zadanie3.js, zadanie4.js, zadanie5.js oraz zadanie6.js, a następnie odśwież stronę by zobaczyć czy zadanie wykonano poprawnie. <br><br>
                Poprawnie wykonane zadania spowodują zaznaczenie na zielono przycisku nawigacyjnego.
            </div>
        </aside>
        <main>
            <section id="zadanie1">
                <h2>Zadanie 1</h2>
                <p>Zdarzenia czyli różne rzeczy, które mogą się dziać w przeglądarce. Może je wywoływać użytkownik, ale i każdy element na stronie. Przykładowo klikając na przycisk na stronie, wywołujemy zdarzenie click. Wybierając za pomocą klawisza tab kolejny element w formularzu, wywołujemy zdarzenie focus. Opuszczając taki element, wywołujemy blur. Obrazek się wgrał? Wywołuje zdarzenie load. Formularz się wysyła? Wywoływane jest zdarzenie submit.</p>
                <p>Aby zareagować na wykonanie zdarzenia, powinniśmy podpiąć dla danego elementu funkcję nasłuchującą, która zostanie odpalona w momencie wykonania danego zdarzenia. Służy do tego funkcja <b>element.addEventListener().</b></p>  
                <pre><code>//możemy podpiąć klasyczną funkcję anonimową
const btn = document.querySelector(".button");

btn.addEventListener("click", function() {
    console.log("Kliknąłem na element A");
});

//lub funkcję strzałkową
const btn = document.querySelector(".button");
btn.addEventListener("click", () => {
    console.log("Kliknąłem na element B");
});

//lub podpiąć funkcję poprzez referencję do niej
function showText() {
    console.log("Kliknąłem na element C");
}

const btn = document.querySelector(".button");
btn.addEventListener("click", showText);

//Przy wielu elementach będziemy działać podobnie:

const buttons = document.querySelectorAll("button");
        
for (let btn of buttons) {
    btn.addEventListener("click", () => {
        console.log("Klik");
    })
}</code></pre>
                <div class="myBtn">Kliknij mnie</div>
                <p>powyższy div ma klasę "byBtn". Podepnij mu wydarzenie w przypadku kliknięcia które wywoła funkcję zmieniającą treść przycisku z "Kliknij mnie" na "Kliknięto"</p>
                <pre><code id="z1s">//Tutaj znajdzie się twój kod gdy dodasz go do pliku zadanie1.js</code></pre>
            </section>
            <section id="zadanie2">
                <h2>Zadanie 2</h2>
                <p>Do wyrejestrowania (odpięcia) danej funkcji służy metoda <b>element.removeEventListener()</b>, która przyjmuje 2 parametry: nazwę zdarzenia i funkcję, którą chcemy wyrejestrować. </p>
                <button>Licznik Kliknięć: 0</button>
                <p>Utwórz licznik kliknięć na powyższym przycisku. Po 5 kliknięciach licznik ma przestać działać (czyli zdarzenie click ma zostać odpięte)</p>
                <pre><code id="z2s">//Tutaj znajdzie się twój kod gdy dodasz go do pliku zadanie2.js</code></pre>
            </section>
            <section id="zadanie3">
                <h2>Zadanie 3</h2>
                <p>Bardzo często będziemy chcieli odwołać się z wnętrza funkcji do danego elementu, do którego podpięliśmy funkcję. Możemy to zrobić na kilka sposobów: </p>
                <pre><code>const btn = document.querySelector("button");

//w przypadku klasycznej funkcji możemy użyć zmiennej lub this
btn.addEventListener("click", function() {
    console.log(this) //button
    console.log(btn) //button

    this.innerText = "klik";
    btn.innerText = "klik";
})

//w przypadku funkcji strzałkowej this użyć nie możemy
btn.addEventListener("click", () => {
    console.log(this) //window
    console.log(btn) //button

    this.innerText = "klik"; //błąd
    btn.innerText = "klik";
});

function klik() {
    console.log(this);
}

const btn = document.querySelector("button");
btn.addEventListener("click", klik);</code></pre>
                <p>Jak widzisz this nie zawsze zadziała, ponieważ w przypadku funkcji strzałkowej będzie wskazywał na zupełnie inny obiekt (np. window).</p>
                <div class="flex-container">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
                <p>powyżej jest siatka divów 10x10. Pobierz za pomocą querySelectorAll zawartość flex-container a następnie dodaj im dwie akcje: pojedyncze kliknięcie zmienia biały kwadrat na żółty, a pojedyncze kliknięcie na niebieski</p>
                <pre><code id="z3s">//Tutaj znajdzie się twój kod gdy dodasz go do pliku zadanie3.js</code></pre>
            </section>
            <section id="zadanie4">
                <h2>Zadanie 4</h2>
                <p>Aby odczytać, który klawisz został naciśnięty możemy posłużyć się dwoma właściwościami: event.key oraz event.code</p>
                <pre><code>const input = document.querySelector("#keyTestEvent")
const div = document.querySelector("#keyTestEventShow");

input.addEventListener("keydown", e => {
    div.innerHTML = `
        e.key: <b>${e.key}</b><br>
        e.code: <b>${e.code}</b><br>
        e.keyCode: <b>${e.keyCode}</b>
    `;
});</code></pre>
                <div class="test-container">
                    <form class="form">
                        <div class="row">
                            <div class="col">
                                <label for="keyTestEvent">Sprawdź:</label>
                                <input type="text" id="keyTestEvent" value="">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div id="keyTestEventShow">
                            Klawisz: <b></b><br>
                            Kod klawisza: <b></b>
                            e.keyCode: <b></b><br>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div id="RGB"></div>
                <p>Utwórz funkcję która będzie nasłuchiwać na zdarzenie keydown w powyższym divie. Jeśli użytkownik wciśnie klawisz R, zmień tło strony na czerwone, jeśli wciśnie klawisz G, zmień tło na zielone, a jeśli wciśnie klawisz B, zmień tło na niebieskie.</p>
                <pre><code id="z4s">//Tutaj znajdzie się twój kod gdy dodasz go do pliku zadanie4.js</code></pre>
            </section>
            <section id="zadanie5">
                <h2>Zadanie 5</h2>
                <p>Tak jak w poprzednim zadaniu, aby pobrać dodatkowe informacje o zaistniałym zdarzeniu, wystarczy, że wypiszemy w konsoli wartość przekazanego do naszej funkcji parametru:</p>
                <pre><code>const element = document.querySelector(".element");
element.addEventListener("click", e => {
    console.log(e); //MouseEvent
});</code></pre>
                <p>Na poniższym divie wykrywane jest miejsce w którym kliknięto i tworzony w tym miejscu nowy div o klasie .dpk. za pomocą pageX i pageY modyfikowane są parametry top i left.</p>
                <div class="shooting-target"></div>
                <pre><code>const target = document.querySelector('.shooting-target');
target.addEventListener('click', (e) => {
    const dpk = document.createElement('div');
    dpk.classList.add('dpk');
    dpk.style.top = `${e.offsetY-25}px`;
    dpk.style.left = `${e.offsetX-25}px`;
    document.body.appendChild(dpk);
}
);</code></pre>
                <div class="click-coordinates"></div>
                <p>Dodaj powyższemu divowi funkcjonalność, która będzie wyświetlać współrzędne w których kliknięto. tekst wyświet w formacie: <b>Kliknięto w punkcie: (x, y)</b> gdzie pod x i y podstaw offsetX i offsetY</p>
                <pre><code id="z5s">//Tutaj znajdzie się twój kod gdy dodasz go do pliku zadanie5.js</code></pre>
            </section>
            <section id="zadanie6">
                <h2>Zadanie 6</h2>
                <div class="movable"></div>
                <p>gdy LPM zostanie kliknięty dodawaj nowy listener reagujący na mousemove który będzie zmieniać jego pozycję, a po puszczeniu zostanie usunięty</p>
                <pre><code id="z6s">//Tutaj znajdzie się twój kod gdy dodasz go do pliku zadanie6.js</code></pre>
            </section>
        </main>
    </div>
    <footer>
        <p>&copy; 2025</p>
    </footer>
</body>
</html>